<!DOCTYPE html>
<html>
<head>
    <title>BHUVAN.LIVE - Neon Strike Pro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body { 
            margin: 0; background: #000; color: #fff; overflow: hidden; 
            font-family: 'Segoe UI', sans-serif; 
            touch-action: none; /* Prevents touch gestures */
        }
        canvas { display: block; cursor: crosshair; }
        
        #brand {
            position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
            font-size: 32px; font-weight: 900; letter-spacing: 5px;
            color: #00f2ff; text-shadow: 0 0 15px #00f2ff;
            animation: pulse 2s infinite; z-index: 10;
        }

        #ui {
            position: absolute; top: 20px; left: 20px; pointer-events: none;
            background: rgba(0,0,0,0.7); padding: 15px; border-left: 4px solid #00f2ff;
        }

        /* Start and Game Over Screens */
        .overlay-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 100;
        }

        button {
            padding: 15px 40px; background: transparent; border: 2px solid #0f0;
            color: #0f0; cursor: pointer; font-weight: bold; font-size: 20px;
            transition: 0.3s;
        }
        button:hover { background: #0f0; color: #000; box-shadow: 0 0 20px #0f0; }

        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; text-shadow: 0 0 30px #00f2ff; }
        }
    </style>
</head>
<body>
    <div id="brand">BHUVAN.LIVE</div>

    <div id="startScreen" class="overlay-screen">
        <h1 style="color:#00f2ff; font-size: 50px;">NEON STRIKE</h1>
        <p>BEST SCORE: <span id="bestScoreLabel">0</span></p>
        <button onclick="startGame()">ENTER FULLSCREEN & START</button>
    </div>

    <div id="gameOver" class="overlay-screen" style="display: none;">
        <h2 style="color: #ff0055; font-size: 40px;">TERMINATED</h2>
        <p id="finalScoreText"></p>
        <button onclick="location.reload()">REBOOT SYSTEM</button>
    </div>

    <div id="ui">
        <div style="font-size: 24px; color: #0f0;">SCORE: <span id="score">0</span></div>
        <div style="font-size: 14px; color: #00f2ff;">BEST: <span id="bestScoreText">0</span></div>
    </div>

    <canvas id="gameCanvas"></canvas>

    <script>
        // --- 1. PREVENT ZOOMING ---
        document.addEventListener('wheel', (e) => {
            if (e.ctrlKey) e.preventDefault();
        }, { passive: false });

        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && (e.key === '+' || e.key === '-' || e.key === '0')) {
                e.preventDefault();
            }
        });

        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let score = 0;
        let bestScore = localStorage.getItem('bhuvanBestScore') || 0;
        let gameActive = false;

        document.getElementById('bestScoreLabel').innerText = bestScore;
        document.getElementById('bestScoreText').innerText = bestScore;

        // --- 2. FULLSCREEN LOGIC ---
        function startGame() {
            document.getElementById('startScreen').style.display = 'none';
            gameActive = true;
            
            const docElm = document.documentElement;
            if (docElm.requestFullscreen) docElm.requestFullscreen();
            
            resize();
            spawnEnemy();
            animate();
        }

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);

        // --- 3. GAME ENGINE ---
        const player = { x: 0, y: 0, radius: 12, color: '#00f2ff', speed: 7 };
        const keys = {};
        const bullets = [], enemies = [], particles = [];

        window.addEventListener('keydown', e => keys[e.key.toLowerCase()] = true);
        window.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);
        window.addEventListener('mousedown', (e) => {
            if(!gameActive) return;
            const angle = Math.atan2(e.clientY - player.y, e.clientX - player.x);
            bullets.push({ x: player.x, y: player.y, vx: Math.cos(angle) * 15, vy: Math.sin(angle) * 15 });
        });

        function spawnEnemy() {
            if(!gameActive) return;
            const radius = 15 + Math.random() * 15;
            let x = Math.random() < 0.5 ? -radius : canvas.width + radius;
            let y = Math.random() * canvas.height;
            enemies.push({ x, y, radius, speed: 2 + (score/1000), color: '#ff0055' });
            setTimeout(spawnEnemy, Math.max(150, 800 - (score/5)));
        }

        function animate() {
            if(!gameActive) return;
            requestAnimationFrame(animate);
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Movement logic
            if(keys['w']) player.y -= player.speed;
            if(keys['s']) player.y += player.speed;
            if(keys['a']) player.x -= player.speed;
            if(keys['d']) player.x += player.speed;

            // Player
            ctx.shadowBlur = 15; ctx.shadowColor = player.color;
            ctx.fillStyle = player.color;
            ctx.beginPath(); ctx.arc(player.x, player.y, player.radius, 0, Math.PI*2); ctx.fill();

            // Bullets
            bullets.forEach((b, i) => {
                b.x += b.vx; b.y += b.vy;
                ctx.fillStyle = '#fff';
                ctx.fillRect(b.x, b.y, 4, 4);
                if(b.x<0 || b.x>canvas.width || b.y<0 || b.y>canvas.height) bullets.splice(i, 1);
            });

            // Enemies
            enemies.forEach((en, ei) => {
                const angle = Math.atan2(player.y - en.y, player.x - en.x);
                en.x += Math.cos(angle) * en.speed;
                en.y += Math.sin(angle) * en.speed;

                ctx.fillStyle = en.color; ctx.shadowColor = en.color;
                ctx.beginPath(); ctx.arc(en.x, en.y, en.radius, 0, Math.PI*2); ctx.fill();

                if(Math.hypot(player.x - en.x, player.y - en.y) < player.radius + en.radius) {
                    endGame();
                }

                bullets.forEach((b, bi) => {
                    if(Math.hypot(b.x - en.x, b.y - en.y) < en.radius) {
                        enemies.splice(ei, 1);
                        bullets.splice(bi, 1);
                        score += 10;
                        document.getElementById('score').innerText = score;
                    }
                });
            });
        }

        function endGame() {
            gameActive = false;
            if(score > bestScore) {
                localStorage.setItem('bhuvanBestScore', score);
            }
            document.getElementById('finalScoreText').innerText = "SCORE: " + score;
            document.getElementById('gameOver').style.display = 'flex';
        }

        player.x = window.innerWidth/2;
        player.y = window.innerHeight/2;
    </script>
</body>
</html>
